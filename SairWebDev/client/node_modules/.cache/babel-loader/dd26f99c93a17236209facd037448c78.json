{"ast":null,"code":"/**\n * Module dependencies.\n */\nvar XHR = require('./polling-xhr');\n\nvar JSONP = require('./polling-jsonp');\n/**\n * Export transports.\n */\n\n\nmodule.exports = exports = {\n  polling: polling,\n  websocket: require('./websocket')\n};\n/**\n * Export upgrades map.\n */\n\nexports.polling.upgradesTo = ['websocket'];\n/**\n * Polling polymorphic constructor.\n *\n * @api private\n */\n\nfunction polling(req) {\n  if ('string' === typeof req._query.j) {\n    return new JSONP(req);\n  } else {\n    return new XHR(req);\n  }\n}","map":null,"metadata":{},"sourceType":"script"}